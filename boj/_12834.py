#12834 ë‹¤ìµìŠ¤íŠ¸ë¼
import heapq
import sys
input = sys.stdin.readline

# ì…ë ¥ë¶€
N, V, E = map(int, input().split())
kist, ssial = map(int, input().split())
N_locs = list(map(int, input().split()))
graph = [[] for _ in range(V+1)] # ê·¸ë˜í”„ ì´ˆê¸° ì„¤ì •
# ê´€ê³„ì„± ê·¸ë˜í”„ ë§Œë“¤ê¸°
for i in range(E):
    v1, v2, w = map(int, input().split())
    graph[v1].append([w,v2])
    graph[v2].append([w,v1])

# ëª¨ë“  nightë¡œë¶€í„° (nignt<=>KIST + night<=>ì”¨ì•Œí‘¸ë“œ)ë¥¼ êµ¬í•´ì•¼í•œë‹¤.
total = 0;
for N_loc in N_locs:
    def dijkstra():
        # ìˆœíšŒ í•˜ê¸° ì „ ìë£Œêµ¬ì¡° ì„ ì–¸
        q = [] # í™í
        distance = [float('inf')]*(V+1)
        # ì´ˆê¸°ê°’ ë„£ê¸°
        # distance[N_loc] = 0
        heapq.heappush(q, [0, N_loc])
        # í ìˆœíšŒ ì‹œì‘ 
        while q:
            # ë‹¤ìŒ í›„ë³´ì§€ë¥¼ í•¨ ë³´ì~
            crt_d, crt_n = heapq.heappop(q)
            distance[nxt_n] = crt_d + nxt_d # ê°±ì‹ í•´, ê°±ì‹ í–ˆë‹¤ë©´?
            # ì´ í›„ë³´ì§€ë¡œ ê°€ë©´ ì´ë“ì´ì•¼?
            if crt_d<distance[crt_n]: # í›„ë³´ì§€ë¡œ ê°€ëŠ” ë°©ë²•ì´ ì €ë²ˆì— ê°”ë˜ ë°©ë²•ë³´ë‹¤ ë¹ ë¥¸ ê¸¸ì´ë¼ë©´ ê°€ì
                distance[crt_n] = crt_d # ë¹ ë¥¸ ê¸¸ì´ë¼ë©´ ê°±ì‹ í•´~
                # í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  ë…¸ë“œ í›„ë³´êµ°ì„ ë³´ê³  ê¸¸ì´ê°€ ë” ì§§ì€ ë°©ë²•ì´ë¼ë©´ íì— ë„£ì
                for nxt_d, nxt_n in graph[crt_n]: # ë‹¤ìŒ ë…¸ë“œë¡œ ê°€ê¸°ìœ„í•œ ê°€ì¤‘ì¹˜
                    if crt_d + nxt_d < distance[nxt_n]: # ê°±ì‹  ê°€ëŠ¥í•˜ë©´
                        heapq.heappush(q, [distance[nxt_n], nxt_n]) # í™ì— ë„£ì–´

        return -1 if distance[kist] == float('inf') else distance[kist], \
            -1 if distance[ssial] == float('inf') else distance[ssial] # ë„ì°©í•˜ì§€ ëª» í–ˆë‹¤ë©´ -1ì„ ì¶œë ¥í•˜ê¸° ìœ„í•œ ì¡°ê±´ë¬¸
    toKIST, toSsial = dijkstra()
    total += toKIST + toSsial

print(total)

'''
ğŸ’â€â™‚ï¸ ë¬¸ì œ ì„¤ëª…
    ê¸°ì‚¬ë‹¨ Nëª…, ë…¸ë“œ ìˆ˜ Vê°œ, ê°„ì„  ìˆ˜ Eê°œ
    í•œ ì‚¬ëŒì˜ ê±°ë¦¬ d = (ì§‘, KIST) ìµœë‹¨ê±°ë¦¬ + (ì§‘, ì”¨ì•Œí‘¸ë“œ) ìµœë‹¨ê±°ë¦¬
        exception) ë„ë‹¬í•  ìˆ˜ ì—†ë‹¤ë©´ ìµœë‹¨ê±°ë¦¬ë¥¼ -1ë¡œ ì •ì˜í•œë‹¤.

ğŸ¯ ì…ì¶œë ¥
    ê¸°ì‚¬ë‹¨ì˜ ìˆ˜ N , ë…¸ë“œì˜ ìˆ˜ V, ë„ë¡œì˜ ìˆ˜ E
    KIST ìœ„ì¹˜ì˜ ë²ˆí˜¸ A, ì”¨ì•Œí‘¸ë“œì˜ ë²ˆí˜¸ B
    ê¸°ì‚¬ë‹¨ì´ ì‚¬ëŠ” ë²ˆí˜¸ Nê°œê°€ ì¼ë ¬ë¡œ ì…ë ¥ëœë‹¤.
    ë…¸ë“œA <-> ë…¸ë“œB : ì‚¬ì‡ ê±°ë¦¬
    
ğŸ”¥ ì•Œê³ ë¦¬ì¦˜
    ê°ê°ì˜ ê¸°ì‚¬ë‹¨ ìœ„ì¹˜ì—ì„œ ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ ì‹¤í–‰í•´ì„œ KIST, ì”¨ì•Œí‘¸ë“œ ê¹Œì§€ì˜ ê±°ë¦¬ë¥¼ ê°ê° êµ¬í•´ì•¼í•  ê²ƒ ê°™ë‹¤.
        ê±°ë¦¬ê°€ infë¼ë©´ -1ë¡œ ì¶œë ¥
    
ğŸ“š ë°ì´í„° êµ¬ì¡°
    ì–‘ë°©í–¥ ê·¸ë˜í”„, ë¦¬ìŠ¤íŠ¸ë¡œ ê·¸ë˜í”„ ê´€ê³„ì„± ì €ì¥í•˜ê¸°
        graph ë„ì°©ì§€ ì¸ë±ìŠ¤ì— [ëª©ì ì§€, ê°€ì¤‘ì¹˜] <> ëª©ì ì§€ ì¸ë±ìŠ¤ì— [ë„ì°©ì§€, ê°€ì¤‘ì¹˜]
    graph[] << [ê°€ì¤‘ì¹˜, ëª©ì ì§€]
    q[] << [í˜„ì¬ê¹Œì§€ì˜ ê°€ì¤‘ì¹˜, í˜„ì¬ ìœ„ì¹˜]
    
    

ğŸ² test case


â›”ï¸ ì‹¤íŒ¨
    1. ë¨¸ë¦¿ì†ìœ¼ë¡œ ìƒê°í•œ êµ¬í˜„ìœ¼ë¡œ ì‹¤íŒ¨
        popì€ ê·¸ ê³³ì— ê°ˆì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ popì„ í•˜ê³  ê±°ë¦¬ê°€ ê°±ì‹ ë˜ë©´ ê·¸ ê³³ì—ì„œ ë³¸ê²©ì ìœ¼ë¡œ ë‹¤ìŒ ë…¸ë“œ í›„ë³´êµ°ì„ ë„£ìœ¼ë ¤ê³  í–ˆë‹¤.
        ê·¸ëŸ´ë ¤ë©´ ë‹¤ìŒ ë…¸ë“œë¥¼ ìˆœíšŒí•˜ëŠ” ê³¼ì •ì—ì„œ ê°’ì„ ê°±ì‹ í•˜ì§€ ì•Šê³  ë„ì°© í–ˆì„ ë–„ ê°’ì„ ê°±ì‹ í•´ì•¼ í•œë‹¤. ë„ì°©í–ˆì„ ë–„ ê°’ì„ ê°±ì‹ í•˜ë ¤ë©´ prevë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.
        ë­”ê°€ ê¼¬ì¸ ë“¯ í•˜ë‹¤.
    
        

ğŸ“ í›„ê¸°

'''